<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>How long till Birks by November</title>
  <meta name="theme-color" content="#FFC800" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-R9TZG1QJ9C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-R9TZG1QJ9C');
  </script>

  <style>
    :root {
      color-scheme: light dark;
      --tarp-yellow: #FFC800;
      --tarp-black: #000000;
      --fg: #000000;
      --muted: #333333;
      --accent: #000000;
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--tarp-yellow);
      color: var(--fg);
      display: grid;
      place-items: center;
      text-align: center;
    }

    main { padding: 3rem 1.5rem; max-width: 960px; }

    h1 {
      font-size: clamp(1.75rem, 3.8vw, 3.2rem);
      margin: 0 0 1rem;
      letter-spacing: .01em;
      font-weight: 900;
      text-transform: uppercase;
    }

    .kicker { font-size: .95rem; color: var(--muted); margin: 0 0 1rem; }

    .timer { display: grid; grid-auto-flow: column; gap: clamp(.6rem, 2.5vw, 1.2rem); margin: 2rem 0; }
    .cell {
      background: #fff3cc;
      border: 2px solid var(--fg);
      border-radius: 1rem;
      padding: clamp(.9rem, 2.5vw, 1.2rem) clamp(1.1rem, 3vw, 1.6rem);
      min-width: 100px;
    }

    .num { font-variant-numeric: tabular-nums; font-size: clamp(2rem, 5vw, 3.4rem); font-weight: 800; line-height: 1; }
    .lab { font-size: .85rem; margin-top: .4rem; color: var(--muted); letter-spacing: .1em; text-transform: uppercase; }

    .badge { display: inline-grid; grid-auto-flow: column; gap: .5rem; place-items: center; margin-top: .5rem; font-size: .95rem; color: var(--muted); }
    .tick { color: var(--accent); }

    .credit { margin-top: 3rem; font-size: .85rem; color: var(--fg); font-weight: 600; }

    .video { margin-top: 2rem; }

    @media (max-width: 640px) {
      .timer { grid-auto-flow: row; }
      .cell { min-width: 100%; }
    }
  </style>
</head>
<body>
  <main>
    <h1>How long till Birks by November</h1>
    <p class="kicker">Target timezone: <strong>Australia/Melbourne</strong></p>

    <div class="timer" aria-live="polite" aria-atomic="true">
      <div class="cell"><div class="num" id="days">0</div><div class="lab">Days</div></div>
      <div class="cell"><div class="num" id="hours">0</div><div class="lab">Hours</div></div>
      <div class="cell"><div class="num" id="mins">0</div><div class="lab">Minutes</div></div>
      <div class="cell"><div class="num" id="secs">0</div><div class="lab">Seconds</div></div>
    </div>

    <p class="badge">Ticking toward midnight, 1 November, Melbourne time <span class="tick">âœ“</span></p>

    <div class="video">
      <iframe width="560" height="315" src="https://www.youtube.com/embed/WvDnRS448RI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <p class="credit">Built by Charles</p>
  </main>

  <script>
    function targetDate() {
      const now = new Date();
      const y = now.getFullYear();
      let target = new Date(`${y}-11-01T00:00:00+11:00`);
      if (now.getTime() > target.getTime()) {
        target = new Date(`${y + 1}-11-01T00:00:00+11:00`);
      }
      return target;
    }

    const $ = id => document.getElementById(id);
    let tgt = targetDate();

    function pad(n) { return String(n).padStart(2, '0'); }

    function render() {
      const now = new Date();
      const diff = Math.max(0, tgt.getTime() - now.getTime());
      const s = Math.floor(diff / 1000);
      const days = Math.floor(s / 86400);
      const hours = Math.floor((s % 86400) / 3600);
      const mins = Math.floor((s % 3600) / 60);
      const secs = s % 60;

      $('days').textContent = days;
      $('hours').textContent = pad(hours);
      $('mins').textContent = pad(mins);
      $('secs').textContent = pad(secs);

      if (diff <= 0) {
        document.querySelector('h1').textContent = 'It is 1 November';
        clearInterval(timer);
      }
    }

    const timer = setInterval(render, 1000);
    render();
  </script>
</body>
</html>
